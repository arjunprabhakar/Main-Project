{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
	<!-- Start Banner Area -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	 <section class="banner-area organic-breadcrumb">
		<div class="container">
			<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1>Register</h1>
					<nav class="d-flex align-items-center">
						<h6 style="color:#fff ;">*********************</h6>
					</nav>
				</div>
			</div>
		</div>
	</section>

    {% include 'alert.html' %}

  <script>
	  setTimeout(function(){
	    if ($('#msg').length > 0){
	      $('#msg').remove();
	      }
	    },4000)

  </script>
	<!-- End Banner Area -->
	<!--================registration Box Area =================-->
	<script>
		   function validateform()
            {
                var a=document.getElementById('email').value.trim();
                var b=document.getElementById('pass').value.trim();
                var c=document.getElementById('cpass').value.trim();
                var d=document.getElementById('nam').value.trim();
                var l=document.getElementById('lnam').value.trim();
                // var e=document.getElementById('addr').value.trim();
                // var f=document.getElementById('city').value.trim();
                // var g=document.getElementById('dist').value.trim();
                // var h=document.getElementById('pcode').value.trim();
                var i=document.getElementById('phone').value.trim();
                var passpatern=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;
                var expr = /^[6-9]\d{9}$/;

                if(d=="")
                {
                    document.getElementById('nm').style.display="block";
                    document.getElementById('nm').innerHTML="**Please Enter First Name";
                    return false;
                }
                if (/[^a-zA-Z^\s]/.test(d))
                    {
                        document.getElementById('nm').style.display="block";
                        document.getElementById('nm').innerHTML="**Only Alphabets Allowed";
                        return false;
                    }
                    else{
                        document.getElementById('nm').style.display="none";
                    }
                    if(l=="")
                {
                    document.getElementById('lnm').style.display="block";
                    document.getElementById('lnm').innerHTML="**Please Enter Last Name";
                    return false;
                }
                if (/[^a-zA-Z^\s]/.test(l))
                    {
                        document.getElementById('lnm').style.display="block";
                        document.getElementById('lnm').innerHTML="**Only Alphabets Allowed";
                        return false;
                    }
                    else{
                        document.getElementById('lnm').style.display="none";
                    }
				if(a=="")
                { 
                    document.getElementById('eml').style.display="block";
                    document.getElementById('eml').innerHTML="**Please Enter Email";
                    return false;
                }  
				if(a.indexOf('@')<=0){
                    document.getElementById('eml').style.display="block";
                    document.getElementById('eml').innerHTML="**Invalid  Email Address";
                    return false;
                }     
                if ((a.charAt(a.length-4)!='.') && (a.charAt(a.length-3)!='.')) {
                    document.getElementById('eml').style.display="block";
                    document.getElementById('eml').innerHTML="**Invalid  Email Address";
                    return false;
                }   
                else{
                    document.getElementById('eml').style.display="none";
                }
                if(i=="")
                {
                    document.getElementById('ph').style.display = "block";

                    document.getElementById('ph').innerHTML="**PleaseEnter  phone number";
                    return false;
                }
                       if(i!="" && expr.test(i)==false){
                           document.getElementById('ph').style.display= "block";
                           document.getElementById('ph').innerHTML ="Invalid Phone number";
                           return false;
                                   }
                                   else{
                           document.getElementById('ph').style.display = "none";
                          
                       }
				if(b=="")
                {
                    document.getElementById('pss').innerHTML="**please enter Password";
                    return false;
                }
                if (!b.match(passpatern))
                    {
                        
                        document.getElementById('pss').innerHTML="** Please follow password format";
                        return false;
                    }
                
				if(c=="")
                {
                    document.getElementById('cpss').style.display="block";
                    document.getElementById('cpss').innerHTML="**please enter Confirm Password";
                    return false;
                }
				if(b!=c)
                {
                    document.getElementById('cpss').style.display="block";
                    document.getElementById('cpss').innerHTML="**Password doesn't match";
                    return false;
                }
                else{
                        document.getElementById('cpss').style.display="none";
                        return true;
                    }
			
				// if(e=="")
                // {
                //     document.getElementById('ad').style.display="block";
                //     document.getElementById('ad').innerHTML="**Please Enter Address";
                //     return false;
                // }
                // else{
                //         document.getElementById('ad').style.display="none";
                //     }
				// if(f=="")
                // {
                //     document.getElementById('ct').style.display="block";
                //     document.getElementById('ct').innerHTML="**Please Enter City";
                //     return false;
                // }
                // else{
                //         document.getElementById('ct').style.display="none";
                //     }
				// if(g=="")
                // {
                //     document.getElementById('dst').style.display="block";
                //     document.getElementById('dst').innerHTML="**Please select District";
                //     return false;
                // }
                // else{
                //     document.getElementById('dst').style.display="none";
                // }
                
				// if(h=="")
                // {
                //     document.getElementById('pin').style.display="block";
                //     document.getElementById('pin').innerHTML="**Please Enter PostalCode";
                //     return false;
                // }
				// if(h.length>6||h.length<6){
                //   document.getElementById('pin').style.display="block";
                //   document.getElementById('pin').innerHTML="**Enter 6 digit valid Code";
                //   return false;
                // }
                // if (!/^[0-9]+$/.test(h))
                //     {
                //         document.getElementById('pin').style.display="block";
                //         document.getElementById('pin').innerHTML="**Only Numbers Allowed";
                //         return false;
                //     }
                //     else{
                //         document.getElementById('pin').style.display="none";
                //     }
                     
               
			}

            function onclear(){
                document.getElementById('pss').innerHTML="";
                // document.getElementById('dst').innerHTML="";
            }
	</script>
	<section class="login_box_area section_gap">
		<div class="container">
            <div class="row">
                <div class="col-lg-6">
					<div class="reg_form_outer">
						<form class="row detail_form" action="login.html" method="post" id="contactForm" novalidate="novalidate">
                            <h3 style="color:rgb(249, 164, 61) ;">Profile</h3>&nbsp<h3>Details</h3>
                            <p style="font-size:15px;">On this page you can modify your login credentials and personal data to be used during future purchases.</p>
                             <p>To keep your account secure we recommend to avoid creating passwords that use:</p>   
                             <ol>
								<li>Dictionary words in any language.</li>
								<li>Words spelled backwards, common misspellings, and abbreviations.</li>
								<li>Sequences of repeated charactres. Examples:12345678, 22222,abcdefg, or adjacent letters on your keyboard(qwerty).</li>
								<li>Personal information. Your name, birthday, driver's license, passportnumber, or similar information.</li>
							 </ol>
                           <style>
                             /* The message box is shown when the user clicks on the password field */
                                #message {
                                display:none;
                                background:#fff;
                                color: #000;
                                position: relative;
                                padding: 20px;
                                margin-top: 10px;
                                }
                                #message p {
                                padding: 1px 35px;
                                font-size: 16px;
                                }
                                /* Add a green text color and a checkmark when the requirements are right */
                                .valid {
                                color: green;
                                }

                                .valid:before {
                                position: relative;
                                left: -25px;
                                content: "✔";
                                }

                                /* Add a red text color and an "x" when the requirements are wrong */
                                .invalid {
                                color: red;
                                }

                                .invalid:before {
                                position: relative;
                                left: -25px;
                                content: "✖";
                                }
                            </style>

                           
                             <div id="message">
                                <h4 style="color:rgb(249, 164, 61) ;">Password must contain the following:</h4>
                                <p id="letter" class="invalid">A lowercase letter</p>
                                <p id="capital" class="invalid">A capital (uppercase) letter</p>
                                <p id="number" class="invalid">A number</p>
                                <p id="length" class="invalid">Minimum 8 characters</b></p>
                 
                             </div>
						</form>
					</div>
				</div>

				<div class="col-lg-6">
					<div class="reg_form_inner">
						<h3>Register for a new account</h3>
						<form class="row reg_form" action="{% url 'register' %}" method="post"  novalidate="novalidate" onsubmit="return validateform();">
							{% csrf_token %}
                            
                            <!-- <h5>User Account Information</h5> -->
                            
                                <div class="col-md-12 form-group">
                                    <input type="text" class="form-control" id="nam" name="nme" placeholder="First Name" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="nm" style="color: red;margin-left: -140px;"></span>
                                </div>
                                <div class="col-md-12 form-group">
                                    <input type="text" class="form-control" id="lnam" name="lnme" placeholder=" Last Name" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="lnm" style="color: red;margin-left: -140px;"></span>
                                </div>
                                <div class="col-md-12 form-group ">                   
                                    <input type="email" class="form-control"  id="email" name="email" placeholder="Email" autocomplete="off"  onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="eml" style="color: red;margin-left: -140px;"></span>
                                </div> 
              
                                <div class="col-md-12 form-group">
                                    <input type="tel" class="form-control" id="phone" name="phn" placeholder="phone" minlength="10" maxlength="10" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="ph" style="color: red;margin-left: -140px;"></span>
								</div>
                                <div class="col-md-12 form-group ">
                                    <input type="password" class="form-control" id="pass" name="pwd"  placeholder="Password" autocomplete="off" onclick="return onclear()">
                                    <span id="pss" style="color: red;margin-left: -140px;"></span>
                                    <script>
                                        var myInput = document.getElementById("pass");
                                        var letter = document.getElementById("letter");
                                        var capital = document.getElementById("capital");
                                        var number = document.getElementById("number");
                                        var length = document.getElementById("length");
                                        myInput.onfocus = function() {
                                        document.getElementById("message").style.display = "block";
                                        }
                                        myInput.onblur = function() {
                                        document.getElementById("message").style.display = "none";
                                        }
                                        // When the user starts to type something inside the password field
                                        myInput.onkeyup = function() {
                                        // Validate lowercase letters
                                        var lowerCaseLetters = /[a-z]/g;
                                        if(myInput.value.match(lowerCaseLetters)) {  
                                            letter.classList.remove("invalid");
                                            letter.classList.add("valid");
                                        } else {
                                            letter.classList.remove("valid");
                                            letter.classList.add("invalid");
                                        }
                                        
                                        // Validate capital letters
                                        var upperCaseLetters = /[A-Z]/g;
                                        if(myInput.value.match(upperCaseLetters)) {  
                                            capital.classList.remove("invalid");
                                            capital.classList.add("valid");
                                        } else {
                                            capital.classList.remove("valid");
                                            capital.classList.add("invalid");
                                        }

                                        // Validate numbers
                                        var numbers = /[0-9]/g;
                                        if(myInput.value.match(numbers)) {  
                                            number.classList.remove("invalid");
                                            number.classList.add("valid");
                                        } else {
                                            number.classList.remove("valid");
                                            number.classList.add("invalid");
                                        }
                                        
                                        // Validate length
                                        if(myInput.value.length >= 8) {
                                            length.classList.remove("invalid");
                                            length.classList.add("valid");
                                        } else {
                                            length.classList.remove("valid");
                                            length.classList.add("invalid");
                                        }
                                        }
                                    </script>
								</div>
                                <div class="col-md-12 form-group">
                                    <input type="password" class="form-control" id="cpass" name="cpwd" placeholder="Confirm Password" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="cpss" style="color: red;margin-left: -140px;"></span>
								</div>
                                <!-- <h5>Shipping Address</h5> -->
                               
                                <!-- <div class="col-md-12 form-group">                   
                                    <input type="text" class="form-control" id="lname" name="lnam" placeholder="Last Name" autocomplete="off" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name'" onclick=" return onclear()">
                                    <span id="eml" style="color: red;"></span>
								</div> -->
                                <!-- <div class="col-md-12 form-group">
                                    <input type="text" class="form-control" id="addr" name="hname" placeholder="House Name" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="ad" style="color: red;margin-left: -140px;"></span>
								</div>
                                <div class="col-md-12 form-group">
                                    <input type="text" class="form-control" id="city" name="city" placeholder="City" autocomplete="off" onblur="return validateform()" onKeyUp="return validateform()">
                                    <span id="ct" style="color: red;margin-left: -140px;"></span>
								</div>
                                <div class="col-md-12 form-group">
                                <select class="form-control" name="district" id="dist"   onKeyUp="return onclear()" onblur="return onclear()">
                                    <option value="">Select District</option>
                                    <option value="Kannur">Kannur</option>
                                    <option value="Kozhikode">Kozhikode</option>
                                    <option value="Malapuram">Malapuram</option>
                                    <option value="Thrissur">Thrissur</option>
                                    <option value="Ernakulam">Ernakulam</option>
                                    <option value="Idukki">Idukki</option>
                                    <option value="Kottayam">Kottayam</option>
                                    <option value="Alapuzha">Alapuzha</option>
                                </select>
								<span id="dst" style="color: red;"></span>
                                </div> -->
                            
                                    
								
							<div class="col-md-12 form-group">
								<input type="submit" value="Register" name="btn" class="primary-btn">	
							</div>							
						</form>

					</div>
				</div>
			</div>
		</div>
	</section>
	<!--================End Registration Box Area =================-->
{% endblock %}
