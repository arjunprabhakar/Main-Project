{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
	<!-- Start Banner Area -->
	 <section class="banner-area organic-breadcrumb">
		<div class="container">
			<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1>Login/Register</h1>
					<nav class="d-flex align-items-center">
						<h6 style="color:#fff ;">**************************************</h6>
						
					</nav>
				</div>
			</div>
		</div>
	</section>
	<!-- End Banner Area -->
    {% include 'alert.html' %}

  <script>
	  setTimeout(function(){
	    if ($('#msg').length > 0){
	      $('#msg').remove();
	      }
	    },4000)

  </script>
	<!--================Login Box Area =================-->
	<script>
                                
		function validateform()
		{
			var b=document.getElementById('pss').value.trim();
			var c=document.getElementById('cpss').value.trim();

			var passpatern=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;			
			if(b=="")
			{
				document.getElementById('ps').style.display="block";
				document.getElementById('ps').innerHTML="**please enter new Password";
				return false;
			}

			if (!b.match(passpatern))
			{
				document.getElementById('ps').style.display="block";
				document.getElementById('ps').innerHTML="**Min length 8 | One Uppercase |One lowercase | One number";
				return false;
			}
			else{
					document.getElementById('ps').style.display="none";
				}

				if(c=="")
			{
				document.getElementById('cps').style.display="block";
				document.getElementById('cps').innerHTML="**please enter Confirm Password";
				return false;
			}
			else{
					document.getElementById('cps').style.display="none";
					
				}
				if(b!=c)
				{
					document.getElementById('cps').style.display="block";
					document.getElementById('cps').innerHTML="**Password doesn't match";
					return false;
				}
				else{
						document.getElementById('cps').style.display="none";
						return true;
					}

			}

		</script>

	<section class="login_box_area section_gap">
		<div class="container">
			<div class="row">
				
				<div class="col-lg-6">
					<div class="login_form_inner" >
						<h3>Enter New Password</h3>
						<form class="row login_form"  action="{% url 'new_password' %}" method="post" id="contactForm" novalidate="novalidate" onsubmit="return validateform();" >
							{% csrf_token %}
                            <div class="col-md-12 form-group">
								<input type="tel" readonly class="form-control" id="otp" name="email" value="{{session}}" >
								<span id="eml" style="color: red;"></span>
							</div>
							<div class="col-md-12 form-group">
								<input type="password" class="form-control" id="pss" name="pswd" placeholder="Enter New Password" onblur="return validateform()" onKeyUp="return validateform()">
								<span id="ps" style="color: red;"></span>
							</div>
                            <div class="col-md-12 form-group">
								<input type="password" class="form-control" id="cpss" name="cpswd" placeholder="Confirm Password" onblur="return validateform()" onKeyUp="return validateform()">
								<span id="cps" style="color: red;"></span>
							</div>
							<div class="col-md-12 form-group">
							</div>
							<div class="col-md-12 form-group">
								<button type="submit" value="submit" class="primary-btn">Submit</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!--================End Login Box Area =================-->

{% endblock %}

